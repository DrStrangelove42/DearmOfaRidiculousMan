<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DOARM: DreamOfaRidiculousMan/Source/Maps/Map.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DOARM
   &#160;<span id="projectnumber">Beta2</span>
   </div>
   <div id="projectbrief">A rogue-like game written in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0c4d340564e62111ba4cc76d97113712.html">DreamOfaRidiculousMan</a></li><li class="navelem"><a class="el" href="dir_ade5e37b5cb16a71bf8e7e0d5e8a9156.html">Source</a></li><li class="navelem"><a class="el" href="dir_113b23126bce34ab0fedda6c5933d6a0.html">Maps</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Map.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="_map_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="_map_8h.html">Map.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno"><a class="line" href="class_map.html#a00c1ff7046ffcf7c20053d3ec8938d19">    3</a></span>&#160;<a class="code" href="class_map.html#a00c1ff7046ffcf7c20053d3ec8938d19">Map::Map</a>(<a class="code" href="class_player.html">Player</a>&amp; p, <span class="keywordtype">int</span> roomCount) : player(p), roomCount(roomCount), currentRoom(0)</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;{</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;    <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a> = <span class="keyword">new</span> <a class="code" href="class_room.html">Room</a> * [<a class="code" href="class_map.html#a51ca3ab3a095ca44349370220488c468">roomCount</a>];</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160; </div>
<div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="class_map.html#aa403fbe09394ccf39747588f5168e3b2">    8</a></span>&#160;<a class="code" href="class_map.html#aa403fbe09394ccf39747588f5168e3b2">Map::~Map</a>()</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;{</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_map.html#a51ca3ab3a095ca44349370220488c468">roomCount</a>; i++)</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;    {</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        <span class="keyword">delete</span> <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[i];</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    }</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="keyword">delete</span>[] <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;}</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160; </div>
<div class="line"><a name="l00017"></a><span class="lineno"><a class="line" href="class_map.html#a17a84c475ba5d0819eba32571f2a8a32">   17</a></span>&#160;<a class="code" href="class_map.html#a00c1ff7046ffcf7c20053d3ec8938d19">Map::Map</a>(<span class="keywordtype">string</span> filename, <a class="code" href="class_player.html">Player</a>&amp; p, <a class="code" href="class_render_context.html">RenderContext</a>&amp; renderer, <span class="keywordtype">int</span>* startMap, <span class="keywordtype">int</span> startRoom) : player(p)</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;{</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <a class="code" href="class_map.html#a841366dec48ae546d21ba3d0d7898beb">mapFromFiles</a>(filename, p, renderer, startMap, startRoom);</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;}</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="class_map.html#a3380417f42eab884346c39b32a5d21bf">   22</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_map.html#a3380417f42eab884346c39b32a5d21bf">Map::render</a>(<a class="code" href="class_render_context.html">RenderContext</a>&amp; renderer, <span class="keywordtype">int</span> offsetX, <span class="keywordtype">int</span> offsetY)</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;{</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <a class="code" href="class_room.html">Room</a>* cur = <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[<a class="code" href="class_map.html#ace1f09679eff5f49808d62f273118e05">currentRoom</a>];</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160; </div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordtype">int</span> offX = offsetX - cur-&gt;<a class="code" href="class_room.html#a10d9d480ee74da0f9e8f67b3449281fb">getX</a>() + (<a class="code" href="config_8cpp.html#a6169c60d0241418c6bcd492305ec4d74">BLOCKS_W</a> - cur-&gt;<a class="code" href="class_room.html#a0028668d6d37e46befdd77056a56b098">getW</a>()) / 2;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordtype">int</span> offY = offsetY - cur-&gt;<a class="code" href="class_room.html#a800b950cbf7467e52e69fd680ac9781f">getY</a>() + (<a class="code" href="config_8cpp.html#a396b3d824ff6ce7f8192a2e7ea3568c5">BLOCKS_H</a> - cur-&gt;<a class="code" href="class_room.html#a3f11cfaeef5579b5703bf247c97ca296">getH</a>()) / 2;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    cur-&gt;<a class="code" href="class_room.html#a14ffbaa39cc59c7ca85beab296503e74">render</a>(renderer, offX, offY);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_map.html#a51ca3ab3a095ca44349370220488c468">roomCount</a>; i++)</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">if</span> (i != <a class="code" href="class_map.html#ace1f09679eff5f49808d62f273118e05">currentRoom</a>)</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[i]-&gt;<a class="code" href="class_room.html#a14ffbaa39cc59c7ca85beab296503e74">render</a>(renderer, offX, offY);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        }</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    }</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="class_map.html#a4ef2979937b4f8cfaffd16601aa8b922">player</a>.<a class="code" href="class_player.html#af78219d72f581c324afb8ad88781fad5">render</a>(renderer, offX + cur-&gt;<a class="code" href="class_room.html#a10d9d480ee74da0f9e8f67b3449281fb">getX</a>(), offY + cur-&gt;<a class="code" href="class_room.html#a800b950cbf7467e52e69fd680ac9781f">getY</a>());</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;}</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160; </div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="class_map.html#a601377e2c94999642e99c2614d84ac58">   42</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_map.html#a601377e2c94999642e99c2614d84ac58">Map::tick</a>(<span class="keywordtype">int</span> time, <a class="code" href="class_render_context.html">RenderContext</a>&amp; r)</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[<a class="code" href="class_map.html#ace1f09679eff5f49808d62f273118e05">currentRoom</a>]-&gt;<a class="code" href="class_room.html#a503e1333b34eeb581157dd70b9dc770a">tick</a>(time, r);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="class_map.html#a31e8a4e24864e10cd494d7059239ad2a">   47</a></span>&#160;<a class="code" href="class_room.html">Room</a>** <a class="code" href="class_map.html#a31e8a4e24864e10cd494d7059239ad2a">Map::getRooms</a>()</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="class_map.html#a19291165e4355c618c821ef92dbdbff7">   52</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="class_map.html#a19291165e4355c618c821ef92dbdbff7">Map::getCurrentRoom</a>()</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="class_map.html#ace1f09679eff5f49808d62f273118e05">currentRoom</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160; </div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="class_map.html#a1052fdc1a4f6badda9877a9e7a1591ae">   57</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_map.html#a1052fdc1a4f6badda9877a9e7a1591ae">Map::onKeyDown</a>(<a class="code" href="struct_e_v_e_n_t___a_r_g_s.html">EVENT_ARGS</a>* ea)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;{</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[<a class="code" href="class_map.html#ace1f09679eff5f49808d62f273118e05">currentRoom</a>]-&gt;<a class="code" href="class_room.html#a580edfd0935f4a32ecc84cd57029d2da">onKeyDown</a>(ea);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="class_map.html#a3c94767d1e77d879193b1d5f6337f561">   62</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_map.html#a3c94767d1e77d879193b1d5f6337f561">Map::worldFromFile</a>(<span class="keywordtype">string</span> location, <span class="keywordtype">string</span> filename) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordtype">int</span> NumberOfMaps, NumberOfRooms, height, width;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">string</span> line;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordtype">string</span> newFile = location + filename + <span class="stringliteral">&quot;/&quot;</span> + filename; <span class="comment">//A string we will use often</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    ifstream World(location + filename + <a class="code" href="config_8cpp.html#a30e725ae914506e0284c5939dbd5386b">WORLDFILE_EXT</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    getline(World, line);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    NumberOfMaps = stoi(line);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    ofstream start(newFile + <span class="stringliteral">&quot;Start&quot;</span> + <a class="code" href="config_8cpp.html#a30e725ae914506e0284c5939dbd5386b">WORLDFILE_EXT</a>); <span class="comment">//We create a new file in which we will detail the start position and characteristics of the player</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> map = 0; map &lt; NumberOfMaps; map++) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        ofstream layout(newFile + to_string(map) + <a class="code" href="config_8cpp.html#a30e725ae914506e0284c5939dbd5386b">WORLDFILE_EXT</a>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        ofstream data(newFile + to_string(map) + <span class="stringliteral">&quot;Data&quot;</span> + <a class="code" href="config_8cpp.html#a30e725ae914506e0284c5939dbd5386b">WORLDFILE_EXT</a>);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        getline(World, line);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordflow">if</span> (line.length() == 0 || line[0] != <span class="charliteral">&#39;#&#39;</span>) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;Expected ## before beginning of map &quot;</span> &lt;&lt; map &lt;&lt; endl;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        }</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        getline(World, line);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        NumberOfRooms = stoi(line);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        layout &lt;&lt; to_string(NumberOfRooms) &lt;&lt; endl;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> room = 0; room &lt; NumberOfRooms; room++) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            getline(World, line);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">if</span> (line.length() == 0 || line[0] != <span class="charliteral">&#39;#&#39;</span>)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                cout &lt;&lt; <span class="stringliteral">&quot;Expected # before beginning of room &quot;</span> &lt;&lt; room &lt;&lt; endl;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="comment">/* We determine the dimensions of the room. */</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            getline(World, line);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="keywordtype">size_t</span> h;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            width = stoi(line, &amp;h);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            line.erase(0, h);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            height = stoi(line);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            layout &lt;&lt; to_string(width) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; to_string(height) &lt;&lt; endl;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <span class="comment">/* We determine the absolute position of the room. */</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keywordtype">int</span> x, y;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            getline(World, line);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            x = stoi(line, &amp;h);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            line.erase(0, h);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            y = stoi(line);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            layout &lt;&lt; to_string(x) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; to_string(y) &lt;&lt; endl;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordtype">string</span> descriptions = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordtype">int</span> headerLength = 0;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            getline(World, line);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keywordflow">while</span> (line.length() == 0 || line[0] != <span class="charliteral">&#39;#&#39;</span>) {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                <span class="keywordflow">if</span> (line != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                    descriptions += line + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                    headerLength += 1;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                getline(World, line);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160; </div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordtype">string</span>* header = <span class="keyword">new</span> <span class="keywordtype">string</span>[headerLength];</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            <span class="comment">//This array will contain each non-empty line between the absolute position of the room and the next line starting with #, that is to say all the additional information needed to describe objects and entities (or anything else that is added), such as contents of chests, characteristics of monsters, that are in the room.</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; headerLength; i++)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <span class="keywordtype">int</span> firstlineskip = descriptions.find(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                header[i] = descriptions.substr(0, firstlineskip);</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                descriptions.erase(0, firstlineskip + 1);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; height; i++) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                getline(World, line);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                <span class="keywordflow">if</span> (line[line.length() - 1] == <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                {</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    line.erase(line.length() - 1);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <span class="keywordtype">string</span> extraspaces = string(max(0, width * 3 - <span class="keywordtype">int</span>(line.length())), <span class="charliteral">&#39; &#39;</span>);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                line += extraspaces; <span class="comment">//We add extra spaces so that all lines in the file are of the same length : width*3. If we find an empty space, it is an empty block.</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; width; j++) {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    layout &lt;&lt; line[3 * j];</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    <span class="keywordflow">switch</span> (line[3 * j + 1])</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                    {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                    <span class="keywordflow">case</span> <span class="charliteral">&#39; &#39;</span>:</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                    <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                        start &lt;&lt; to_string(map) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; to_string(room) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; to_string(j) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; to_string(i) &lt;&lt; endl;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; headerLength; k++) { <span class="comment">//There may be information in the header as to what health or items the player starts with for example</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                            <span class="keywordflow">if</span> (header[k][0] == <span class="charliteral">&#39;p&#39;</span>) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                                start &lt;&lt; header[k].erase(0);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                            }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                        }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                        start.close();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                        data &lt;&lt; to_string(room) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; to_string(j) &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; to_string(i) &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                        <span class="keywordtype">bool</span> notinheader = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; headerLength; k++) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                            <span class="keywordflow">if</span> (header[k][0] == line[3 * j + 1] &amp;&amp; header[k][1] == line[3 * j + 2]) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                                data &lt;&lt; header[k] &lt;&lt; endl;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                notinheader = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                            }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                        }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                        <span class="keywordflow">if</span> (notinheader)</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                            data &lt;&lt; line[3 * j + 1] &lt;&lt; line[3 * j + 2] &lt;&lt; endl;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                        }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                    }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                layout &lt;&lt; endl;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        layout.close();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        data.close();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    World.close();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="class_map.html#a841366dec48ae546d21ba3d0d7898beb">  188</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="class_map.html#a841366dec48ae546d21ba3d0d7898beb">Map::mapFromFiles</a>(<span class="keywordtype">string</span> filename, <a class="code" href="class_player.html">Player</a>&amp; p, <a class="code" href="class_render_context.html">RenderContext</a>&amp; renderer, <span class="keywordtype">int</span>* startMap, <span class="keywordtype">int</span> startRoom)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;{</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    ifstream start(filename + <span class="stringliteral">&quot;Start&quot;</span> + <a class="code" href="config_8cpp.html#a30e725ae914506e0284c5939dbd5386b">WORLDFILE_EXT</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">string</span> line1, line2, line3;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordtype">size_t</span> a;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordtype">int</span> startX, startY;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span> (*startMap == -1)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        getline(start, line1);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        *startMap = stoi(line1, &amp;a);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        line1.erase(0, a);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        startRoom = stoi(line1, &amp;a);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        line1.erase(0, a);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        startX = stoi(line1, &amp;a);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        line1.erase(0, a);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        startY = stoi(line1);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <a class="code" href="class_map.html#a4ef2979937b4f8cfaffd16601aa8b922">player</a>.<a class="code" href="class_moving_entity.html#a5f6d633c50e2b4b1ffc9b5e3d3408248">teleport</a>(startX, startY);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">//TODO other player characteristics</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    start.close();</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    ifstream layout(filename + to_string(*startMap) + <a class="code" href="config_8cpp.html#a30e725ae914506e0284c5939dbd5386b">WORLDFILE_EXT</a>);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    ifstream data(filename + to_string(*startMap) + <span class="stringliteral">&quot;Data&quot;</span> + <a class="code" href="config_8cpp.html#a30e725ae914506e0284c5939dbd5386b">WORLDFILE_EXT</a>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    getline(layout, line2);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="class_map.html#a51ca3ab3a095ca44349370220488c468">roomCount</a> = stoi(line2);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a> = <span class="keyword">new</span> <a class="code" href="class_room.html">Room</a> * [<a class="code" href="class_map.html#a51ca3ab3a095ca44349370220488c468">roomCount</a>];</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="class_map.html#ace1f09679eff5f49808d62f273118e05">currentRoom</a> = startRoom;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <a class="code" href="class_room.html">Room</a>* thisRoom;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> room = 0; room &lt; <a class="code" href="class_map.html#a51ca3ab3a095ca44349370220488c468">roomCount</a>; room++)</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="comment">/* We determine the dimensions of the room. */</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        getline(layout, line2);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <span class="keywordtype">size_t</span> h;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordtype">int</span> width = stoi(line2, &amp;h);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        line2.erase(0, h);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordtype">int</span> height = stoi(line2);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        getline(layout, line2);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        <span class="keywordtype">int</span> x = stoi(line2, &amp;h);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        line2.erase(0, h);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keywordtype">int</span> y = stoi(line2);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        thisRoom = <span class="keyword">new</span> <a class="code" href="class_room.html">Room</a>(width, height, x, y, p, renderer);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; height; i++)</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            getline(layout, line2);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; width; j++) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                <span class="keywordflow">switch</span> (line2[j])</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39; &#39;</span>:</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>:</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    thisRoom-&gt;<a class="code" href="class_room.html#a47027b7a46dbdb34c86b071adca63f43">replaceBlock</a>(<span class="keyword">new</span> <a class="code" href="class_wall_block.html">WallBlock</a>(j, i, renderer));</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>:</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    thisRoom-&gt;<a class="code" href="class_room.html#a47027b7a46dbdb34c86b071adca63f43">replaceBlock</a>(<span class="keyword">new</span> <a class="code" href="class_floor_block.html">FloorBlock</a>(j, i, renderer));</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    thisRoom-&gt;<a class="code" href="class_room.html#a47027b7a46dbdb34c86b071adca63f43">replaceBlock</a>(<span class="keyword">new</span> <a class="code" href="class_stone_wall_block.html">StoneWallBlock</a>(j, i, renderer));</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    cout &lt;&lt; <span class="stringliteral">&quot;Case &quot;</span> &lt;&lt; line2[j] &lt;&lt; <span class="stringliteral">&quot; not treated yet.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;            }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        }</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[room] = thisRoom;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    layout.close();</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[<a class="code" href="class_map.html#ace1f09679eff5f49808d62f273118e05">currentRoom</a>]-&gt;<a class="code" href="class_room.html#ac201aa034a4c9e10bc5bc76b9217b952">setDiscovered</a>(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">while</span> (getline(data, line3)) <span class="comment">//We now add the objects to the rooms</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <span class="comment">//For each object, we extract its position in the map, its identifier, and the rest of the information needed to construct the object and add it to the map</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordtype">int</span> uniqueId = 0; <span class="comment">//This integer is used to make sure the identifier of each objects in the room is unique</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        <span class="keywordtype">int</span> room, x, y;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <span class="keywordtype">size_t</span> a;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        room = stoi(line3, &amp;a);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        line3.erase(0, a);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        x = stoi(line3, &amp;a);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        line3.erase(0, a);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        y = stoi(line3, &amp;a);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        line3.erase(0, a + 1);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">switch</span> (line3[0])</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;!&#39;</span>:</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            <span class="keywordtype">string</span> <span class="keywordtype">id</span> = line3.substr(0, 2);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            line3.erase(0, 2);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            <span class="keywordtype">int</span> destMap = stoi(line3, &amp;a);</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            line3.erase(0, a);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            <span class="keywordtype">int</span> destRoom = stoi(line3, &amp;a);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            line3.erase(0, a);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordtype">int</span> destX = stoi(line3, &amp;a);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            line3.erase(0, a);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            <span class="keywordtype">int</span> destY = stoi(line3);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;            <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[room]-&gt;<a class="code" href="class_room.html#acf9689e04f8bc98d658d12d62b95e8bf">addObject</a>(<span class="keyword">new</span> <a class="code" href="class_warp.html">Warp</a>(destMap, destRoom, destX, destY, x, y, <span class="keywordtype">id</span>, p, renderer));</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;k&#39;</span>:</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <span class="keywordtype">string</span> <span class="keywordtype">id</span> = line3.substr(0, 2);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[room]-&gt;<a class="code" href="class_room.html#acf9689e04f8bc98d658d12d62b95e8bf">addObject</a>(<span class="keyword">new</span> <a class="code" href="class_key.html">Key</a>(<span class="keywordtype">id</span>, x, y, p, renderer));</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keywordtype">string</span> <span class="keywordtype">id</span> = line3.substr(0, 6);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[room]-&gt;<a class="code" href="class_room.html#acf9689e04f8bc98d658d12d62b95e8bf">addObject</a>(<span class="keyword">new</span> <a class="code" href="class_door.html">Door</a>(<span class="keywordtype">id</span>, x, y, p, renderer));</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordtype">string</span> <span class="keywordtype">id</span> = line3.substr(0, 2);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            line3.erase(0, 3);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <a class="code" href="class_chest.html">Chest</a>* newChest = <span class="keyword">new</span> <a class="code" href="class_chest.html">Chest</a>(<span class="keywordtype">id</span>, x, y, p, renderer);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;            <span class="keywordflow">while</span> (line3.length() &gt;= 2)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                <span class="keywordflow">switch</span> (line3[1])</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;w&#39;</span>:</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                    newChest-&gt;<a class="code" href="class_chest.html#ad2d9523ac53da6ec6a35842d876049bc">addItem</a>(<a class="code" href="class_sword.html">Sword</a>(<span class="stringliteral">&quot;sw&quot;</span> + to_string(uniqueId++), renderer));</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>:</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                    newChest-&gt;<a class="code" href="class_chest.html#ad2d9523ac53da6ec6a35842d876049bc">addItem</a>(<a class="code" href="class_shield.html">Shield</a>(<span class="stringliteral">&quot;sh&quot;</span> + to_string(uniqueId++), renderer));</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                line3.erase(0, 2);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="keywordflow">if</span> (line3.length() &gt; 0)</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                    line3.erase(0, 1);</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;            }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[room]-&gt;<a class="code" href="class_room.html#acf9689e04f8bc98d658d12d62b95e8bf">addObject</a>(newChest);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>:</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <a class="code" href="class_ghost.html">Ghost</a>* newGhost = <span class="keyword">new</span> <a class="code" href="class_ghost.html">Ghost</a>(renderer, p, *(<a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[room]));</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            newGhost-&gt;<a class="code" href="class_moving_entity.html#a5f6d633c50e2b4b1ffc9b5e3d3408248">teleport</a>(x, y);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;            <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[room]-&gt;<a class="code" href="class_room.html#a762c9f3dbf43cf7ef2a06dba78cc6efc">addMonster</a>(newGhost);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;            <a class="code" href="class_skeleton.html">Skeleton</a>* newSkeleton = <span class="keyword">new</span> <a class="code" href="class_skeleton.html">Skeleton</a>(renderer, p,*(<a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[room]));</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            newSkeleton-&gt;<a class="code" href="class_moving_entity.html#a5f6d633c50e2b4b1ffc9b5e3d3408248">teleport</a>(x, y);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            <a class="code" href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">rooms</a>[room]-&gt;<a class="code" href="class_room.html#a762c9f3dbf43cf7ef2a06dba78cc6efc">addMonster</a>(newSkeleton);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        }</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            cout &lt;&lt; <span class="stringliteral">&quot;Case &quot;</span> &lt;&lt; line3[0] &lt;&lt; <span class="stringliteral">&quot; not treated yet.&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    }</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    data.close();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclass_map_html_a00c1ff7046ffcf7c20053d3ec8938d19"><div class="ttname"><a href="class_map.html#a00c1ff7046ffcf7c20053d3ec8938d19">Map::Map</a></div><div class="ttdeci">Map(Player &amp;p, int roomCount)</div><div class="ttdef"><b>Definition:</b> <a href="_map_8cpp_source.html#l00003">Map.cpp:3</a></div></div>
<div class="ttc" id="aconfig_8cpp_html_a396b3d824ff6ce7f8192a2e7ea3568c5"><div class="ttname"><a href="config_8cpp.html#a396b3d824ff6ce7f8192a2e7ea3568c5">BLOCKS_H</a></div><div class="ttdeci">int BLOCKS_H</div><div class="ttdef"><b>Definition:</b> <a href="config_8cpp_source.html#l00010">config.cpp:10</a></div></div>
<div class="ttc" id="aclass_shield_html"><div class="ttname"><a href="class_shield.html">Shield</a></div><div class="ttdef"><b>Definition:</b> <a href="_shield_8h_source.html#l00010">Shield.h:11</a></div></div>
<div class="ttc" id="aclass_map_html_ace1f09679eff5f49808d62f273118e05"><div class="ttname"><a href="class_map.html#ace1f09679eff5f49808d62f273118e05">Map::currentRoom</a></div><div class="ttdeci">int currentRoom</div><div class="ttdef"><b>Definition:</b> <a href="_map_8h_source.html#l00064">Map.h:64</a></div></div>
<div class="ttc" id="aclass_room_html_a10d9d480ee74da0f9e8f67b3449281fb"><div class="ttname"><a href="class_room.html#a10d9d480ee74da0f9e8f67b3449281fb">Room::getX</a></div><div class="ttdeci">int getX()</div><div class="ttdef"><b>Definition:</b> <a href="_room_8cpp_source.html#l00070">Room.cpp:70</a></div></div>
<div class="ttc" id="aclass_room_html_a3f11cfaeef5579b5703bf247c97ca296"><div class="ttname"><a href="class_room.html#a3f11cfaeef5579b5703bf247c97ca296">Room::getH</a></div><div class="ttdeci">int getH()</div><div class="ttdef"><b>Definition:</b> <a href="_room_8cpp_source.html#l00065">Room.cpp:65</a></div></div>
<div class="ttc" id="aclass_room_html"><div class="ttname"><a href="class_room.html">Room</a></div><div class="ttdef"><b>Definition:</b> <a href="_room_8h_source.html#l00016">Room.h:17</a></div></div>
<div class="ttc" id="aclass_player_html_af78219d72f581c324afb8ad88781fad5"><div class="ttname"><a href="class_player.html#af78219d72f581c324afb8ad88781fad5">Player::render</a></div><div class="ttdeci">virtual void render(RenderContext &amp;renderer, int offsetX=0, int offsetY=0)</div><div class="ttdoc">Rendering method, enabling the renderer to take the offset (in blocks) into account.</div><div class="ttdef"><b>Definition:</b> <a href="_player_8cpp_source.html#l00008">Player.cpp:8</a></div></div>
<div class="ttc" id="aclass_room_html_a14ffbaa39cc59c7ca85beab296503e74"><div class="ttname"><a href="class_room.html#a14ffbaa39cc59c7ca85beab296503e74">Room::render</a></div><div class="ttdeci">virtual void render(RenderContext &amp;renderer, int offsetX=0, int offsetY=0)</div><div class="ttdoc">Rendering method, enabling the renderer to take the offset (in blocks) into account.</div><div class="ttdef"><b>Definition:</b> <a href="_room_8cpp_source.html#l00037">Room.cpp:37</a></div></div>
<div class="ttc" id="aclass_moving_entity_html_a5f6d633c50e2b4b1ffc9b5e3d3408248"><div class="ttname"><a href="class_moving_entity.html#a5f6d633c50e2b4b1ffc9b5e3d3408248">MovingEntity::teleport</a></div><div class="ttdeci">void teleport(int x, int y)</div><div class="ttdef"><b>Definition:</b> <a href="_moving_entity_8cpp_source.html#l00003">MovingEntity.cpp:3</a></div></div>
<div class="ttc" id="aclass_room_html_ac201aa034a4c9e10bc5bc76b9217b952"><div class="ttname"><a href="class_room.html#ac201aa034a4c9e10bc5bc76b9217b952">Room::setDiscovered</a></div><div class="ttdeci">void setDiscovered(bool b)</div><div class="ttdef"><b>Definition:</b> <a href="_room_8cpp_source.html#l00085">Room.cpp:85</a></div></div>
<div class="ttc" id="aclass_room_html_acf9689e04f8bc98d658d12d62b95e8bf"><div class="ttname"><a href="class_room.html#acf9689e04f8bc98d658d12d62b95e8bf">Room::addObject</a></div><div class="ttdeci">void addObject(Object *object)</div><div class="ttdef"><b>Definition:</b> <a href="_room_8cpp_source.html#l00089">Room.cpp:89</a></div></div>
<div class="ttc" id="aclass_room_html_a762c9f3dbf43cf7ef2a06dba78cc6efc"><div class="ttname"><a href="class_room.html#a762c9f3dbf43cf7ef2a06dba78cc6efc">Room::addMonster</a></div><div class="ttdeci">void addMonster(Monster *m)</div><div class="ttdef"><b>Definition:</b> <a href="_room_8cpp_source.html#l00130">Room.cpp:130</a></div></div>
<div class="ttc" id="aclass_room_html_a800b950cbf7467e52e69fd680ac9781f"><div class="ttname"><a href="class_room.html#a800b950cbf7467e52e69fd680ac9781f">Room::getY</a></div><div class="ttdeci">int getY()</div><div class="ttdef"><b>Definition:</b> <a href="_room_8cpp_source.html#l00075">Room.cpp:75</a></div></div>
<div class="ttc" id="aclass_map_html_a3c94767d1e77d879193b1d5f6337f561"><div class="ttname"><a href="class_map.html#a3c94767d1e77d879193b1d5f6337f561">Map::worldFromFile</a></div><div class="ttdeci">static void worldFromFile(string location, string filename)</div><div class="ttdef"><b>Definition:</b> <a href="_map_8cpp_source.html#l00062">Map.cpp:62</a></div></div>
<div class="ttc" id="aclass_map_html_a1052fdc1a4f6badda9877a9e7a1591ae"><div class="ttname"><a href="class_map.html#a1052fdc1a4f6badda9877a9e7a1591ae">Map::onKeyDown</a></div><div class="ttdeci">virtual void onKeyDown(EVENT_ARGS *ea)</div><div class="ttdef"><b>Definition:</b> <a href="_map_8cpp_source.html#l00057">Map.cpp:57</a></div></div>
<div class="ttc" id="aclass_chest_html"><div class="ttname"><a href="class_chest.html">Chest</a></div><div class="ttdef"><b>Definition:</b> <a href="_chest_8h_source.html#l00008">Chest.h:9</a></div></div>
<div class="ttc" id="aclass_wall_block_html"><div class="ttname"><a href="class_wall_block.html">WallBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="_wall_block_8h_source.html#l00006">WallBlock.h:7</a></div></div>
<div class="ttc" id="aclass_map_html_a23b43bf52f6165c7bec6be91dbc25368"><div class="ttname"><a href="class_map.html#a23b43bf52f6165c7bec6be91dbc25368">Map::rooms</a></div><div class="ttdeci">Room ** rooms</div><div class="ttdef"><b>Definition:</b> <a href="_map_8h_source.html#l00037">Map.h:37</a></div></div>
<div class="ttc" id="aclass_room_html_a0028668d6d37e46befdd77056a56b098"><div class="ttname"><a href="class_room.html#a0028668d6d37e46befdd77056a56b098">Room::getW</a></div><div class="ttdeci">int getW()</div><div class="ttdef"><b>Definition:</b> <a href="_room_8cpp_source.html#l00060">Room.cpp:60</a></div></div>
<div class="ttc" id="aclass_map_html_a3380417f42eab884346c39b32a5d21bf"><div class="ttname"><a href="class_map.html#a3380417f42eab884346c39b32a5d21bf">Map::render</a></div><div class="ttdeci">virtual void render(RenderContext &amp;renderer, int offsetX=0, int offsetY=0)</div><div class="ttdoc">Rendering method, enabling the renderer to take the offset (in blocks) into account.</div><div class="ttdef"><b>Definition:</b> <a href="_map_8cpp_source.html#l00022">Map.cpp:22</a></div></div>
<div class="ttc" id="aclass_chest_html_ad2d9523ac53da6ec6a35842d876049bc"><div class="ttname"><a href="class_chest.html#ad2d9523ac53da6ec6a35842d876049bc">Chest::addItem</a></div><div class="ttdeci">void addItem(Item i, int count=1)</div><div class="ttdef"><b>Definition:</b> <a href="_chest_8cpp_source.html#l00019">Chest.cpp:19</a></div></div>
<div class="ttc" id="aconfig_8cpp_html_a6169c60d0241418c6bcd492305ec4d74"><div class="ttname"><a href="config_8cpp.html#a6169c60d0241418c6bcd492305ec4d74">BLOCKS_W</a></div><div class="ttdeci">int BLOCKS_W</div><div class="ttdef"><b>Definition:</b> <a href="config_8cpp_source.html#l00009">config.cpp:9</a></div></div>
<div class="ttc" id="aclass_skeleton_html"><div class="ttname"><a href="class_skeleton.html">Skeleton</a></div><div class="ttdef"><b>Definition:</b> <a href="_skeleton_8h_source.html#l00009">Skeleton.h:10</a></div></div>
<div class="ttc" id="aclass_map_html_a601377e2c94999642e99c2614d84ac58"><div class="ttname"><a href="class_map.html#a601377e2c94999642e99c2614d84ac58">Map::tick</a></div><div class="ttdeci">virtual void tick(int time, RenderContext &amp;r)</div><div class="ttdef"><b>Definition:</b> <a href="_map_8cpp_source.html#l00042">Map.cpp:42</a></div></div>
<div class="ttc" id="aclass_map_html_a51ca3ab3a095ca44349370220488c468"><div class="ttname"><a href="class_map.html#a51ca3ab3a095ca44349370220488c468">Map::roomCount</a></div><div class="ttdeci">int roomCount</div><div class="ttdef"><b>Definition:</b> <a href="_map_8h_source.html#l00041">Map.h:41</a></div></div>
<div class="ttc" id="aclass_map_html_a841366dec48ae546d21ba3d0d7898beb"><div class="ttname"><a href="class_map.html#a841366dec48ae546d21ba3d0d7898beb">Map::mapFromFiles</a></div><div class="ttdeci">void mapFromFiles(string filename, Player &amp;p, RenderContext &amp;renderer, int *startMap, int startRoom)</div><div class="ttdef"><b>Definition:</b> <a href="_map_8cpp_source.html#l00188">Map.cpp:188</a></div></div>
<div class="ttc" id="aclass_key_html"><div class="ttname"><a href="class_key.html">Key</a></div><div class="ttdef"><b>Definition:</b> <a href="_key_8h_source.html#l00006">Key.h:7</a></div></div>
<div class="ttc" id="aclass_warp_html"><div class="ttname"><a href="class_warp.html">Warp</a></div><div class="ttdef"><b>Definition:</b> <a href="_warp_8h_source.html#l00009">Warp.h:10</a></div></div>
<div class="ttc" id="aconfig_8cpp_html_a30e725ae914506e0284c5939dbd5386b"><div class="ttname"><a href="config_8cpp.html#a30e725ae914506e0284c5939dbd5386b">WORLDFILE_EXT</a></div><div class="ttdeci">string WORLDFILE_EXT</div><div class="ttdoc">The extension used for files containing wolds</div><div class="ttdef"><b>Definition:</b> <a href="config_8cpp_source.html#l00020">config.cpp:20</a></div></div>
<div class="ttc" id="aclass_stone_wall_block_html"><div class="ttname"><a href="class_stone_wall_block.html">StoneWallBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="_stone_wall_block_8h_source.html#l00006">StoneWallBlock.h:7</a></div></div>
<div class="ttc" id="aclass_map_html_aa403fbe09394ccf39747588f5168e3b2"><div class="ttname"><a href="class_map.html#aa403fbe09394ccf39747588f5168e3b2">Map::~Map</a></div><div class="ttdeci">virtual ~Map()</div><div class="ttdef"><b>Definition:</b> <a href="_map_8cpp_source.html#l00008">Map.cpp:8</a></div></div>
<div class="ttc" id="aclass_door_html"><div class="ttname"><a href="class_door.html">Door</a></div><div class="ttdef"><b>Definition:</b> <a href="_door_8h_source.html#l00006">Door.h:7</a></div></div>
<div class="ttc" id="aclass_map_html_a19291165e4355c618c821ef92dbdbff7"><div class="ttname"><a href="class_map.html#a19291165e4355c618c821ef92dbdbff7">Map::getCurrentRoom</a></div><div class="ttdeci">int getCurrentRoom()</div><div class="ttdef"><b>Definition:</b> <a href="_map_8cpp_source.html#l00052">Map.cpp:52</a></div></div>
<div class="ttc" id="aclass_room_html_a47027b7a46dbdb34c86b071adca63f43"><div class="ttname"><a href="class_room.html#a47027b7a46dbdb34c86b071adca63f43">Room::replaceBlock</a></div><div class="ttdeci">void replaceBlock(Block *newBlock)</div><div class="ttdef"><b>Definition:</b> <a href="_room_8cpp_source.html#l00140">Room.cpp:140</a></div></div>
<div class="ttc" id="aclass_floor_block_html"><div class="ttname"><a href="class_floor_block.html">FloorBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="_floor_block_8h_source.html#l00007">FloorBlock.h:8</a></div></div>
<div class="ttc" id="aclass_render_context_html"><div class="ttname"><a href="class_render_context.html">RenderContext</a></div><div class="ttdef"><b>Definition:</b> <a href="_render_context_8h_source.html#l00010">RenderContext.h:11</a></div></div>
<div class="ttc" id="aclass_sword_html"><div class="ttname"><a href="class_sword.html">Sword</a></div><div class="ttdef"><b>Definition:</b> <a href="_sword_8h_source.html#l00010">Sword.h:11</a></div></div>
<div class="ttc" id="aclass_room_html_a580edfd0935f4a32ecc84cd57029d2da"><div class="ttname"><a href="class_room.html#a580edfd0935f4a32ecc84cd57029d2da">Room::onKeyDown</a></div><div class="ttdeci">virtual void onKeyDown(EVENT_ARGS *ea)</div><div class="ttdef"><b>Definition:</b> <a href="_room_8cpp_source.html#l00185">Room.cpp:185</a></div></div>
<div class="ttc" id="aclass_room_html_a503e1333b34eeb581157dd70b9dc770a"><div class="ttname"><a href="class_room.html#a503e1333b34eeb581157dd70b9dc770a">Room::tick</a></div><div class="ttdeci">virtual void tick(int time, RenderContext &amp;r)</div><div class="ttdef"><b>Definition:</b> <a href="_room_8cpp_source.html#l00110">Room.cpp:110</a></div></div>
<div class="ttc" id="aclass_ghost_html"><div class="ttname"><a href="class_ghost.html">Ghost</a></div><div class="ttdef"><b>Definition:</b> <a href="_ghost_8h_source.html#l00009">Ghost.h:10</a></div></div>
<div class="ttc" id="a_map_8h_html"><div class="ttname"><a href="_map_8h.html">Map.h</a></div></div>
<div class="ttc" id="aclass_map_html_a31e8a4e24864e10cd494d7059239ad2a"><div class="ttname"><a href="class_map.html#a31e8a4e24864e10cd494d7059239ad2a">Map::getRooms</a></div><div class="ttdeci">Room ** getRooms()</div><div class="ttdef"><b>Definition:</b> <a href="_map_8cpp_source.html#l00047">Map.cpp:47</a></div></div>
<div class="ttc" id="astruct_e_v_e_n_t___a_r_g_s_html"><div class="ttname"><a href="struct_e_v_e_n_t___a_r_g_s.html">EVENT_ARGS</a></div><div class="ttdef"><b>Definition:</b> <a href="utils_8h_source.html#l00023">utils.h:24</a></div></div>
<div class="ttc" id="aclass_player_html"><div class="ttname"><a href="class_player.html">Player</a></div><div class="ttdef"><b>Definition:</b> <a href="_player_8h_source.html#l00018">Player.h:19</a></div></div>
<div class="ttc" id="aclass_map_html_a4ef2979937b4f8cfaffd16601aa8b922"><div class="ttname"><a href="class_map.html#a4ef2979937b4f8cfaffd16601aa8b922">Map::player</a></div><div class="ttdeci">Player &amp; player</div><div class="ttdef"><b>Definition:</b> <a href="_map_8h_source.html#l00039">Map.h:39</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
